<div class="container px-0">
  <div class="row" style="height: 80vh;">
    <div class="w-100 d-flex justify-content-between">
      <div class="m-0" style="background-color: #f2f2f2; flex-grow: 1;">
        <div class="p-2" style="background-color: #fff; border-radius: 0 0 15px 0;">
          <% if user_signed_in? %>
            <div class="d-flex align-items-center">
              <%= link_to my_page_path do %>
                <%= image_tag user.get_image(50,50), class: "rounded-circle mr-2" %>
                <%= user.name %>
              <% end %>
            </div>
          <% else %>
            <%= link_to "会員登録", new_user_registration_path %>
            <%= link_to "ログイン", user_session_path %>
          <% end %>
        </div>
      </div>
      <div class="d-flex align-items-end">
        <div class="pt-2 px-2 pb-1" style="background-color: #f2f2f2; border-radius: 15px 15px 0 0;">
          <%= button_to "通知を確認", mark_as_read_notifications_path, method: :patch, class: "py-1 px-2 btn btn-sm btn-primary rounded-pill", style: "font-size: 12px;" %>
        </div>
      </div>
    </div>
    <div class="overflow-auto" style="height: 100%; width: 100%; background-color: #f2f2f2; border-radius: 15px 0 15px 15px;">
      <div id="infinite_scroll">
        <% if @notifications.any? %>
          <% @notifications.each do |notification| %>
            <%= render 'public/notifications/notification', notification: notification %>
          <% end %>
        <% else %>
          <p class="pt-3 text-center">通知はありません</p>
        <% end %>
        <%= paginate @notifications %>
      </div>
    </div>
  </div>
  <div class="row pt-2 justify-content-center">
    <span style="color: #bdbdbd; font-size: 12px;">Copyright © hogehoge All Rights Reserved.</span>
  </div>
</div>

<%# 無限スクロール実装用 %>
<script>
  $(document).on('turbolinks:load', function() {
    $('#infinite_scroll').jscroll({
      contentSelector: '#infinite_scroll',
      nextSelector: '.next a',
      loadingHtml: '読み込み中',
      padding: 10
    });
  });
</script>